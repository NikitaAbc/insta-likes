<template>
<div>


        <section class="post-content-area pt-20">
            <div class="row d-flex justify-content-center">
                <div class="menu-content pb-70 col-lg-9">
                    <div class="title text-center">
                        <h2 class="mb-10">Мои публикаци</h2>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="single-post row">
                            <div class="col-lg-3  col-md-3 meta-details">
                                <ul class="tags">
                                    <li><a href="#">Food,</a></li>
                                    <li><a href="#">Technology,</a></li>
                                    <li><a href="#">Politics,</a></li>
                                    <li><a href="#">Lifestyle</a></li>
                                </ul>
                                <div class="user-details row">
                                    <p class="user-name col-lg-12 col-md-12 col-6"><a href="#">Mark wiens</a> <span class="lnr lnr-user"></span></p>
                                    <p class="date col-lg-12 col-md-12 col-6"><a href="#">12 Dec, 2017</a> <span class="lnr lnr-calendar-full"></span></p>
                                    <p class="view col-lg-12 col-md-12 col-6"><a href="#">1.2M Views</a> <span class="lnr lnr-eye"></span></p>
                                    <p class="comments col-lg-12 col-md-12 col-6"><a href="#">06 Comments</a> <span class="lnr lnr-bubble"></span></p>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 ">
                                <div class="feature-img">
                                    <img class="img-fluid" src="https://www.elastic.co/assets/bltada7771f270d08f6/enhanced-buzz-1492-1379411828-15.jpg" alt="">
                                </div>
                                <a class="posts-title" href="blog-single.html"><h3>Astronomy Binoculars A Great Alternative</h3></a>
                                <p class="excert">
                                    MCSE boot camps have its supporters and its detractors. Some people do not understand why you should have to spend money on boot camp when you can get the MCSE study materials yourself at a fraction.
                                </p>
                                <a href="blog-single.html" class="primary-btn">View More</a>
                            </div>
                        </div>

                        <div class="single-post row">
                            <div class="col-lg-3  col-md-3 meta-details">
                                <ul class="tags">
                                    <li><a href="#">Food,</a></li>
                                    <li><a href="#">Technology,</a></li>
                                    <li><a href="#">Politics,</a></li>
                                    <li><a href="#">Lifestyle</a></li>
                                </ul>
                                <div class="user-details row">
                                    <p class="user-name col-lg-12 col-md-12 col-6"><a href="#">Mark wiens</a> <span class="lnr lnr-user"></span></p>
                                    <p class="date col-lg-12 col-md-12 col-6"><a href="#">12 Dec, 2017</a> <span class="lnr lnr-calendar-full"></span></p>
                                    <p class="view col-lg-12 col-md-12 col-6"><a href="#">1.2M Views</a> <span class="lnr lnr-eye"></span></p>
                                    <p class="comments col-lg-12 col-md-12 col-6"><a href="#">06 Comments</a> <span class="lnr lnr-bubble"></span></p>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 ">
                                <div class="feature-img">
                                    <img class="img-fluid" src="https://www.elastic.co/assets/bltada7771f270d08f6/enhanced-buzz-1492-1379411828-15.jpg" alt="">
                                </div>
                                <a class="posts-title" href="blog-single.html"><h3>The Basics Of Buying A Telescope</h3></a>
                                <p class="excert">
                                    MCSE boot camps have its supporters and its detractors. Some people do not understand why you should have to spend money on boot camp when you can get the MCSE study materials yourself at a fraction.
                                </p>
                                <a href="blog-single.html" class="primary-btn">View More</a>
                            </div>
                        </div>
                        <div class="single-post row">
                            <div class="col-lg-3 col-md-3 meta-details">
                                <ul class="tags">
                                    <li><a href="#">Food,</a></li>
                                    <li><a href="#">Technology,</a></li>
                                    <li><a href="#">Politics,</a></li>
                                    <li><a href="#">Lifestyle</a></li>
                                </ul>
                                <div class="user-details row">
                                    <p class="user-name col-lg-12 col-md-12 col-6"><a href="#">Mark wiens</a> <span class="lnr lnr-user"></span></p>
                                    <p class="date col-lg-12 col-md-12 col-6"><a href="#">12 Dec, 2017</a> <span class="lnr lnr-calendar-full"></span></p>
                                    <p class="view col-lg-12 col-md-12 col-6"><a href="#">1.2M Views</a> <span class="lnr lnr-eye"></span></p>
                                    <p class="comments col-lg-12 col-md-12 col-6"><a href="#">06 Comments</a> <span class="lnr lnr-bubble"></span></p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-md-9">
                                <div class="feature-img">
                                    <img class="img-fluid" src="img/blog/feature-img5.jpg" alt="">
                                </div>
                                <a class="posts-title" href="blog-single.html"><h3>Telescopes 101</h3></a>
                                <p class="excert">
                                    MCSE boot camps have its supporters and its detractors. Some people do not understand why you should have to spend money on boot camp when you can get the MCSE study materials yourself at a fraction.
                                </p>
                                <a href="blog-single.html" class="primary-btn">View More</a>
                            </div>
                        </div>
                        <nav class="blog-pagination justify-content-center d-flex">
                            <ul class="pagination">
                                <li class="page-item">
                                    <a href="#" class="page-link" aria-label="Previous">
		                                    <span aria-hidden="true">
		                                        <span class="lnr lnr-chevron-left"></span>
		                                    </span>
                                    </a>
                                </li>
                                <li class="page-item"><a href="#" class="page-link">01</a></li>
                                <li class="page-item active"><a href="#" class="page-link">02</a></li>
                                <li class="page-item"><a href="#" class="page-link">03</a></li>
                                <li class="page-item"><a href="#" class="page-link">04</a></li>
                                <li class="page-item"><a href="#" class="page-link">09</a></li>
                                <li class="page-item">
                                    <a href="#" class="page-link" aria-label="Next">
		                                    <span aria-hidden="true">
		                                        <span class="lnr lnr-chevron-right"></span>
		                                    </span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    <div class="col-lg-4 ">
                        <div class="widget-wrap">

                            <div class="single-sidebar-widget post-category-widget">
                                <h4 class="category-title">Post Catgories</h4>
                                <ul class="cat-list">
                                    <li>
                                        <a href="#" class="d-flex justify-content-between">
                                            <p>Technology</p>
                                            <p>37</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="d-flex justify-content-between">
                                            <p>Lifestyle</p>
                                            <p>24</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="d-flex justify-content-between">
                                            <p>Fashion</p>
                                            <p>59</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="d-flex justify-content-between">
                                            <p>Art</p>
                                            <p>29</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="d-flex justify-content-between">
                                            <p>Food</p>
                                            <p>15</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="d-flex justify-content-between">
                                            <p>Architecture</p>
                                            <p>09</p>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#" class="d-flex justify-content-between">
                                            <p>Adventure</p>
                                            <p>44</p>
                                        </a>
                                    </li>
                                </ul>
                            </div>

                            <div class="single-sidebar-widget user-info-widget">
                                <img :src="'img/blog/user-info.png'" alt="">
                                <a href="#"><h4>Charlie Barber</h4></a>
                                <p>
                                    Senior blog writer
                                </p>
                                <ul class="social-links">
                                    <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                    <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                    <li><a href="#"><i class="fa fa-github"></i></a></li>
                                    <li><a href="#"><i class="fa fa-behance"></i></a></li>
                                </ul>
                                <p>
                                    Boot camps have its supporters andit sdetractors. Some people do not understand why you should have to spend money on boot camp when you can get. Boot camps have itssuppor ters andits detractors.
                                </p>
                                <a href="#" class="genric-btn info circle">Edit</a>
                            </div>
                            <div class="single-sidebar-widget ads-widget">
                                <a href="#"><img class="img-fluid" :src="'/img/blog/ads-banner.jpg'" alt=""></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

</div>
</template>

<script>
    import ItemCard from "../../components/ItemCard";


    export default {
        components: {
            'item-card': ItemCard
        },
        data() {
            return {
                filteredData: [],
                search: '',
                result: [
                    {
                        name: 'women-shirts',
                        logo: 'http://res.cloudinary.com/johnayeni/image/upload/v1524501994/vue-logo_uoxef2.png',
                        stack: [ 'Все записи']
                    },
                    {
                        name: 'women-shirts2',
                        logo: 'https://instagram.fods1-1.fna.fbcdn.net/vp/d7e656965907c6b3a13ac142a3e8b96d/5D439E3B/t51.2885-15/sh0.08/e35/s640x640/53859476_669804643422572_4755845080822706387_n.jpg?_nc_ht=instagram.fods1-1.fna.fbcdn.net',
                        stack: [ 'Все записи', 'Активные']
                    },
                    {
                        name: 'nikitos',
                        logo: 'http://res.cloudinary.com/johnayeni/image/upload/v1524501994/vue-logo_uoxef2.png',
                        stack: [ 'Все записи', 'Популярные']
                    },
                    {
                        name: 'nikitosPopular',
                        logo: 'http://res.cloudinary.com/johnayeni/image/upload/v1524501994/vue-logo_uoxef2.png',
                        stack: [ 'Все записи', 'Популярные']
                    },
                    {
                        name: 'serega',
                        logo: 'http://res.cloudinary.com/johnayeni/image/upload/v1524501994/vue-logo_uoxef2.png',
                        stack: [ 'Все записи', 'Популярные']
                    },

                ],
                stacks: [
                    {
                        checked: false,
                        value: 'Все записи'
                    },
                    {
                        checked: false,
                        value: 'Активные'
                    },
                    {
                        checked: false,
                        value: 'Популярные'
                    },
                ]
            };
        },
        computed: {
            selectedFilters: function() {
                let filters = [];
                let checkedFiters = this.stacks.filter(obj => obj.checked);

                checkedFiters.forEach(element => {

                    filters.push(element.value);

                    element.checked = false;

                });
                return filters;
            }
        },

        methods: {
            getfilteredData: function() {

                this.filteredData = this.result;

                let filteredDataByfilters = [];
                let filteredDataBySearch = [];


                if (this.selectedFilters.length > 0) {
                    filteredDataByfilters = this.filteredData.filter(obj => this.selectedFilters.every(val => obj.stack.indexOf(val) > -1));

                    this.filteredData = filteredDataByfilters;
                }
                // then filter according to keyword, for now this only affects the name attribute of each data
                if (this.search !== '') {
                    filteredDataBySearch = this.filteredData.filter(obj => obj.name.indexOf(this.search.toLowerCase()) >= 0);
                    this.filteredData = filteredDataBySearch;
                }
            }
        },
        mounted() {
            this.getfilteredData();
        }
    }
</script>